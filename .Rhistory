id_recurrences <- dx_full %>%
group_by(ID) %>%
summarise(n = n())
View(id_recurrences)
View(dx_full)
id_recurrences <- dx_full %>% group_by(dx, ID) %>% tally()
View(id_recurrences)
id_recurrences <- dx_full %>% group_by(dx, ID, dx_type) %>% tally()
View(dx_full)
## (anxiety = 1, mood = 2, disordered eating = 3) as of 09/08/2021
dx_full$dx_type <- dx_full$dx
dx_full <- dx_full %>%
mutate(dx_type=ifelse(dx_type=="MDD", 2,
ifelse(dx_type=="SocP", 1,
ifelse(dx_type=="ADDM", 2,
ifelse(dx_type=="SimP", 1,
ifelse(dx_type=="ENU", 1,
ifelse(dx_type=="GAD", 1,
ifelse(dx_type=="OCD", 1,
ifelse(dx_type=="DNOS", 2,
ifelse(dx_type=="PTSD", 1,
ifelse(dx_type=="AG", 1,
ifelse(dx_type=="PD", 1,
ifelse(dx_type=="AN", 3,
ifelse(dx_type=="EDNOS", 3,
ifelse(dx_type=="BU", 3,
ifelse(dx_type=="ANOS", 1,
ifelse(dx_type=="BP2", 2,
ifelse(dx_type=="BP1", 2,
ifelse(dx_type=="ADA", 1,
ifelse(dx_type=="ASD", 1,                                                                                      ifelse(dx_type=="Schizo_Affect_Dep", 2,
ifelse(dx_type=="DYS", 2,
ifelse(dx_type=="ManEp", 2,
ifelse(dx_type=="HypoEp", 2,
ifelse(dx_type=="PD_AG", 1,
ifelse(dx_type=="SepAnx", 1,
ifelse(dx_type=="MDD_B", 2,
ifelse(dx_type=="MixedEp_Psychotic", 2,                                                                                        dx_type))))))))))))))))))))))))))))
## creating wave docs
## W1
w1_dx_current <-  dx_full[which(dx_full$W1_current=="1"),]
w1_dx_past <- dx_full[which(dx_full$W1_past=="1"),]
w1_dx <- full_join(w1_dx_current, w1_dx_past)
## W2
w2_dx_current <-  dx_full[which(dx_full$W2_current=="1"),]
w2_dx_past <- dx_full[which(dx_full$W2_past=="1"),]
w2_dx <- full_join(w2_dx_current, w2_dx_past)
## W3
w3_dx_current <-  dx_full[which(dx_full$W3_current=="1"),]
w3_dx_past <- dx_full[which(dx_full$W3_past=="1"),]
w3_dx <- full_join(w3_dx_current, w3_dx_past)
id_recurrences <- dx_full %>% group_by(dx, ID, dx_type) %>% tally()
View(id_recurrences)
across_3_waves <-  id_recurrences[which(id_recurrences$n=="3"),]
across_2_waves <-  id_recurrences[which(id_recurrences$n=="2"),]
View(across_2_waves)
across_1_waves <-  id_recurrences[which(id_recurrences$n=="1"),]
View(across_1_waves)
across_3_waves <- across_3_waves[!duplicated(across_3_waves$ID), ]
across_2_waves <- across_2_waves[!duplicated(across_2_waves$ID), ]
across_1_waves <- across_1_waves[!duplicated(across_1_waves$ID), ]
id_recurrences <- dx_full %>% group_by(dx_type, ID) %>% tally()
across_3_waves <-  id_recurrences[which(id_recurrences$n=="3"),]
across_2_waves <-  id_recurrences[which(id_recurrences$n=="2"),]
across_1_waves <-  id_recurrences[which(id_recurrences$n=="1"),]
across_3_waves <- across_3_waves[!duplicated(across_3_waves$ID), ]
across_2_waves <- across_2_waves[!duplicated(across_2_waves$ID), ]
across_1_waves <- across_1_waves[!duplicated(across_1_waves$ID), ]
View(across_1_waves)
across_3_waves_anx <- across_3_waves[which(across_3_waves$dx_type=="1"),]
across_2_waves_anx <-  across_2_waves[which(across_2_waves$dx_type=="1"),]
across_1_waves_anx <-  across_1_waves[which(across_1_waves$dx_type=="1"),]
across_3_waves_mood <- across_3_waves[which(across_3_waves$dx_type=="2"),]
across_2_waves_mood <-  across_2_waves[which(across_2_waves$dx_type=="2"),]
across_1_waves_mood <-  across_1_waves[which(across_1_waves$dx_type=="2"),]
across_3_waves_ed <- across_3_waves[which(across_3_waves$dx_type=="3"),]
across_2_waves_ed <-  across_2_waves[which(across_2_waves$dx_type=="3"),]
across_1_waves_ed <-  across_1_waves[which(across_1_waves$dx_type=="3"),]
knitr::opts_chunk$set(
echo = TRUE,
message = TRUE,
warning = TRUE
)
## Load required packages ##
packages <-  c("tidyverse",
"nlme", "ggplot2")
lapply(packages, library, character.only = TRUE)
root_path="~/Desktop/Projects/dx/working_docs/"
##pulling CSV files & calculating cronbach alpha
dx_full<-read.csv(paste0(root_path,"Lifetime_Diagnoses.csv"),
stringsAsFactors = FALSE)
#dx_names<-read.csv(paste0(root_path,"dx_names.csv"),
#stringsAsFactors = FALSE)
dshi <-read.csv(paste0(root_path,"DSHI_All_Waves.csv"),
stringsAsFactors = FALSE)
## (anxiety = 1, mood = 2, disordered eating = 3) as of 09/08/2021
dx_full$dx_type <- dx_full$dx
dx_full <- dx_full %>%
mutate(dx_type=ifelse(dx_type=="MDD", 2,
ifelse(dx_type=="SocP", 1,
ifelse(dx_type=="ADDM", 2,
ifelse(dx_type=="SimP", 1,
ifelse(dx_type=="ENU", 1,
ifelse(dx_type=="GAD", 1,
ifelse(dx_type=="OCD", 1,
ifelse(dx_type=="DNOS", 2,
ifelse(dx_type=="PTSD", 1,
ifelse(dx_type=="AG", 1,
ifelse(dx_type=="PD", 1,
ifelse(dx_type=="AN", 3,
ifelse(dx_type=="EDNOS", 3,
ifelse(dx_type=="BU", 3,
ifelse(dx_type=="ANOS", 1,
ifelse(dx_type=="BP2", 2,
ifelse(dx_type=="BP1", 2,
ifelse(dx_type=="ADA", 1,
ifelse(dx_type=="ASD", 1,                                                                                      ifelse(dx_type=="Schizo_Affect_Dep", 2,
ifelse(dx_type=="DYS", 2,
ifelse(dx_type=="ManEp", 2,
ifelse(dx_type=="HypoEp", 2,
ifelse(dx_type=="PD_AG", 1,
ifelse(dx_type=="SepAnx", 1,
ifelse(dx_type=="MDD_B", 2,
ifelse(dx_type=="MixedEp_Psychotic", 2,                                                                                        dx_type))))))))))))))))))))))))))))
## creating wave docs
## W1
w1_dx_current <-  dx_full[which(dx_full$W1_current=="1"),]
w1_dx_past <- dx_full[which(dx_full$W1_past=="1"),]
w1_dx <- full_join(w1_dx_current, w1_dx_past)
## W2
w2_dx_current <-  dx_full[which(dx_full$W2_current=="1"),]
w2_dx_past <- dx_full[which(dx_full$W2_past=="1"),]
w2_dx <- full_join(w2_dx_current, w2_dx_past)
## W3
w3_dx_current <-  dx_full[which(dx_full$W3_current=="1"),]
w3_dx_past <- dx_full[which(dx_full$W3_past=="1"),]
w3_dx <- full_join(w3_dx_current, w3_dx_past)
## cleaning DSHI doc
## changing any -3 to NA in DSHI doc
dshi[dshi=="-3"] <- "NA"
## filtering out IDs who have NA for date of endorsement and self-harm (meaning they didn't meet for anything)
dshi <- dshi %>% filter(dshi$Date_Endorsement != "NA")
dshi <- dshi %>% filter(dshi$Self_Harm != "NA")
## creating a doc with just ID and the wave they met
dshi <- dshi %>%
select("ID", "Wave")
dshi <-dshi %>%
mutate(no_underscores=paste0("TAG",
substring(ID,first=5,last=length(ID))))
colnames(dshi)[3] <- "ID"
dshi <-dshi[, -1]
dshi <-dshi[c(2, 1)]
## relabeling ACE endorsements to wave 3's
dshi[dshi=="3.5 (Month 1)"] <- "3"
dshi[dshi=="3.5 (Month 2)"] <- "3"
dshi[dshi=="3.5"] <- "3"
## creating separate wave docs for dshi endorsements
dshi_w1 <-  dshi[which(dshi$Wave=="1"),]
dshi_w2 <-  dshi[which(dshi$Wave=="2"),]
dshi_w3 <-  dshi[which(dshi$Wave=="3"),]
## changing the class of Wave to integer
dshi_w1$Wave <-  as.integer(dshi_w1$Wave)
dshi_w2$Wave <-  as.integer(dshi_w2$Wave)
dshi_w3$Wave <-  as.integer(dshi_w3$Wave)
dshi <-dshi %>%
mutate(no_underscores=paste0("TAG",
substring(ID,first=5,last=length(ID))))
colnames(dshi)[3] <- "ID"
dshi <-dshi[, -1]
dshi <-dshi[c(2, 1)]
## creating docs for folks who endorsed self-harm and met for a dx in the same wave
w1_sh_dx <- w1_dx[w1_dx$ID %in% dshi_w1$ID,]
w2_sh_dx <- w2_dx[w2_dx$ID %in% dshi_w2$ID,]
w3_sh_dx <- w3_dx[w3_dx$ID %in% dshi_w3$ID,]
w1_sh_dx <- w1_sh_dx[!duplicated(w1_sh_dx$ID), ] ## 7
w2_sh_dx <- w2_sh_dx[!duplicated(w2_sh_dx$ID), ] ## 17
w3_sh_dx <- w3_sh_dx[!duplicated(w3_sh_dx$ID), ] ## 22
w1_sh_no_dx <- w1_dx[, !w1_dx$ID %in% dshi_w1]
w1_sh_no_dx <- w1_dx[!w1_dx$ID %in% dshi_w1,]
View(w1_sh_no_dx)
View(w1_sh_dx)
View(w1_sh_no_dx)
w2_sh_no_dx <- w2_dx[!w2_dx$ID %in% dshi_w2,]
w3_sh_no_dx <- w3_dx[!w3_dx$ID %in% dshi_w3,]
w1_sh_no_dx <- w1_sh_no_dx[!duplicated(w1_sh_no_dx$ID), ]
w2_sh_no_dx <- w2_sh_no_dx[!duplicated(w2_sh_no_dx$ID), ]
w3_sh_no_dx <- w3_sh_no_dx[!duplicated(w3_sh_no_dx$ID), ]
View(w3_sh_no_dx)
View(dshi_w3)
dshi_w1 <- dshi_w1[!duplicated(dshi_w1$ID), ]
dshi_w2 <- dshi_w2[!duplicated(dshi_w2$ID), ]
dshi_w3 <- dshi_w3[!duplicated(dshi_w3$ID), ]
View(dshi_w1)
View(dshi_w2)
View(dshi_w3)
View(dshi_w2)
View(dshi_w3)
dshi_w3 <- dshi_w3[-c(2),]
View(dshi_w3)
knitr::opts_chunk$set(
echo = TRUE,
message = TRUE,
warning = TRUE
)
## Load required packages ##
packages <-  c("tidyverse",
"nlme", "ggplot2")
lapply(packages, library, character.only = TRUE)
root_path="~/Desktop/Projects/dx/working_docs/"
##pulling CSV files & calculating cronbach alpha
dx_full<-read.csv(paste0(root_path,"Lifetime_Diagnoses.csv"),
stringsAsFactors = FALSE)
#dx_names<-read.csv(paste0(root_path,"dx_names.csv"),
#stringsAsFactors = FALSE)
dshi <-read.csv(paste0(root_path,"DSHI_All_Waves.csv"),
stringsAsFactors = FALSE)
## (anxiety = 1, mood = 2, disordered eating = 3) as of 09/08/2021
dx_full$dx_type <- dx_full$dx
dx_full <- dx_full %>%
mutate(dx_type=ifelse(dx_type=="MDD", 2,
ifelse(dx_type=="SocP", 1,
ifelse(dx_type=="ADDM", 2,
ifelse(dx_type=="SimP", 1,
ifelse(dx_type=="ENU", 1,
ifelse(dx_type=="GAD", 1,
ifelse(dx_type=="OCD", 1,
ifelse(dx_type=="DNOS", 2,
ifelse(dx_type=="PTSD", 1,
ifelse(dx_type=="AG", 1,
ifelse(dx_type=="PD", 1,
ifelse(dx_type=="AN", 3,
ifelse(dx_type=="EDNOS", 3,
ifelse(dx_type=="BU", 3,
ifelse(dx_type=="ANOS", 1,
ifelse(dx_type=="BP2", 2,
ifelse(dx_type=="BP1", 2,
ifelse(dx_type=="ADA", 1,
ifelse(dx_type=="ASD", 1,                                                                                      ifelse(dx_type=="Schizo_Affect_Dep", 2,
ifelse(dx_type=="DYS", 2,
ifelse(dx_type=="ManEp", 2,
ifelse(dx_type=="HypoEp", 2,
ifelse(dx_type=="PD_AG", 1,
ifelse(dx_type=="SepAnx", 1,
ifelse(dx_type=="MDD_B", 2,
ifelse(dx_type=="MixedEp_Psychotic", 2,                                                                                        dx_type))))))))))))))))))))))))))))
## creating wave docs
## W1
w1_dx_current <-  dx_full[which(dx_full$W1_current=="1"),]
w1_dx_past <- dx_full[which(dx_full$W1_past=="1"),]
w1_dx <- full_join(w1_dx_current, w1_dx_past)
## W2
w2_dx_current <-  dx_full[which(dx_full$W2_current=="1"),]
w2_dx_past <- dx_full[which(dx_full$W2_past=="1"),]
w2_dx <- full_join(w2_dx_current, w2_dx_past)
## W3
w3_dx_current <-  dx_full[which(dx_full$W3_current=="1"),]
w3_dx_past <- dx_full[which(dx_full$W3_past=="1"),]
w3_dx <- full_join(w3_dx_current, w3_dx_past)
## cleaning DSHI doc
## changing any -3 to NA in DSHI doc
dshi[dshi=="-3"] <- "NA"
## filtering out IDs who have NA for date of endorsement and self-harm (meaning they didn't meet for anything)
dshi <- dshi %>% filter(dshi$Date_Endorsement != "NA")
dshi <- dshi %>% filter(dshi$Self_Harm != "NA")
## creating a doc with just ID and the wave they met
dshi <- dshi %>%
select("ID", "Wave")
dshi <-dshi %>%
mutate(no_underscores=paste0("TAG",
substring(ID,first=5,last=length(ID))))
colnames(dshi)[3] <- "ID"
dshi <-dshi[, -1]
dshi <-dshi[c(2, 1)]
## relabeling ACE endorsements to wave 3's
dshi[dshi=="3.5 (Month 1)"] <- "3"
dshi[dshi=="3.5 (Month 2)"] <- "3"
dshi[dshi=="3.5"] <- "3"
## creating separate wave docs for dshi endorsements
dshi_w1 <-  dshi[which(dshi$Wave=="1"),]
dshi_w2 <-  dshi[which(dshi$Wave=="2"),]
dshi_w3 <-  dshi[which(dshi$Wave=="3"),]
## changing the class of Wave to integer
dshi_w1$Wave <-  as.integer(dshi_w1$Wave)
dshi_w2$Wave <-  as.integer(dshi_w2$Wave)
dshi_w3$Wave <-  as.integer(dshi_w3$Wave)
dshi <-dshi %>%
mutate(no_underscores=paste0("TAG",
substring(ID,first=5,last=length(ID))))
colnames(dshi)[3] <- "ID"
dshi <-dshi[, -1]
dshi <-dshi[c(2, 1)]
dshi_w1 <- dshi_w1[!duplicated(dshi_w1$ID), ]
dshi_w2 <- dshi_w2[!duplicated(dshi_w2$ID), ]
dshi_w3 <- dshi_w3[!duplicated(dshi_w3$ID), ]
dshi_w3 <- dshi_w3[-c(1),]
## creating docs for folks who endorsed self-harm and met for a dx in the same wave
w1_sh_dx <- w1_dx[w1_dx$ID %in% dshi_w1$ID,]
w2_sh_dx <- w2_dx[w2_dx$ID %in% dshi_w2$ID,]
w3_sh_dx <- w3_dx[w3_dx$ID %in% dshi_w3$ID,]
w1_sh_dx <- w1_sh_dx[!duplicated(w1_sh_dx$ID), ] ## 7
w2_sh_dx <- w2_sh_dx[!duplicated(w2_sh_dx$ID), ] ## 17
w3_sh_dx <- w3_sh_dx[!duplicated(w3_sh_dx$ID), ] ## 22
## creating docs for folks who endorsed self-harm but did not meet for dx
w1_sh_no_dx <- w1_dx[!w1_dx$ID %in% dshi_w1,]
w2_sh_no_dx <- w2_dx[!w2_dx$ID %in% dshi_w2,]
w3_sh_no_dx <- w3_dx[!w3_dx$ID %in% dshi_w3,]
w1_sh_no_dx <- w1_sh_no_dx[!duplicated(w1_sh_no_dx$ID), ]
w2_sh_no_dx <- w2_sh_no_dx[!duplicated(w2_sh_no_dx$ID), ]
w3_sh_no_dx <- w3_sh_no_dx[!duplicated(w3_sh_no_dx$ID), ]
View(dshi_w3)
View(w1_sh_no_dx)
View(dshi_w1)
View(w1_sh_no_dx)
w1_sh_no_dx <- dshi_w1[!dshi_w1$ID %in% w1_sh_dx,]
w2_sh_no_dx <- dshi_w2[!dshi_w2$ID %in% w2_sh_dx,]
w3_sh_no_dx <- dshi_w3[!dshi_w3$ID %in% w3_sh_dx,]
View(w1_sh_no_dx)
w1_sh_no_dx <- dshi_w1[dshi_w1$ID %in% !w1_sh_dx,]
w1_sh_no_dx <- subset(dshi_w1, !(ID %in% w1_sh_dx$ID))
w2_sh_no_dx <- subset(dshi_w2, !(ID %in% w2_sh_dx$ID))
w3_sh_no_dx <- subset(dshi_w3, !(ID %in% w3_sh_dx$ID))
w1_sh_no_dx <- w1_sh_no_dx[!duplicated(w1_sh_no_dx$ID), ]
w2_sh_no_dx <- w2_sh_no_dx[!duplicated(w2_sh_no_dx$ID), ]
w3_sh_no_dx <- w3_sh_no_dx[!duplicated(w3_sh_no_dx$ID), ]
## How many participants met for any anxiety/mood/ed disorder in each wave?
## W1
w1_dx_anxiety <-  w1_dx[which(w1_dx$dx_type=="1"),]
w1_dx_mood <- w1_dx[which(w1_dx$dx_type=="2"),]
w1_dx_ed <- w1_dx[which(w1_dx$dx_type=="3"),]
w1_dx_anxiety <- w1_dx_anxiety[!duplicated(w1_dx_anxiety$ID), ] ## 35 PARTICIPANTS
w1_dx_mood <- w1_dx_mood[!duplicated(w1_dx_mood$ID), ] ## 12 PARTICIPANTS
w1_dx_ed <- w1_dx_ed[!duplicated(w1_dx_ed$ID), ] ## 0 PARTICIPANTS
## W2
w2_dx_anxiety <-  w2_dx[which(w2_dx$dx_type=="1"),]
w2_dx_mood <- w2_dx[which(w2_dx$dx_type=="2"),]
w2_dx_ed <- w2_dx[which(w2_dx$dx_type=="3"),]
w2_dx_anxiety <- w2_dx_anxiety[!duplicated(w2_dx_anxiety$ID), ]  ## 43 PARTICIPANTS
w2_dx_mood <- w2_dx_mood[!duplicated(w2_dx_mood$ID), ]  ## 31 PARTICIPANTS
w2_dx_ed <- w2_dx_ed[!duplicated(w2_dx_ed$ID), ] ## 2 PARTICIPANTS
## W3
w3_dx_anxiety <-  w3_dx[which(w3_dx$dx_type=="1"),]
w3_dx_mood <- w3_dx[which(w3_dx$dx_type=="2"),]
w3_dx_ed <- w3_dx[which(w3_dx$dx_type=="3"),]
w3_dx_anxiety <- w3_dx_anxiety[!duplicated(w3_dx_anxiety$ID), ]  ## 42 PARTICIPANTS
w3_dx_mood <- w3_dx_mood[!duplicated(w3_dx_mood$ID), ]  ## 39 PARTICIPANTS
w3_dx_ed <- w3_dx_ed[!duplicated(w3_dx_ed$ID), ] ## 10 PARTICIPANTS
## How many participants are currently experiencing anxiety/mood/disordered eating?
## W1
# number of current diagnoses
w1_dx_anxiety_current_full <-  w1_dx_current[which(w1_dx_current$dx_type=="1"),]
w1_dx_mood_current_full <- w1_dx_current[which(w1_dx_current$dx_type=="2"),]
w1_dx_ed_current_full <- w1_dx_current[which(w1_dx_current$dx_type=="3"),]
# number of px who met for at least one current diagnosis
w1_dx_anxiety_current <- w1_dx_anxiety_current_full[!duplicated(w1_dx_anxiety_current_full$ID), ] ## 24 PARTICIPANTS
w1_dx_mood_current <- w1_dx_mood_current_full[!duplicated(w1_dx_mood_current_full$ID), ] ## 5 PARTICIPANTS
w1_dx_ed_current <- w1_dx_ed_current_full[!duplicated(w1_dx_ed_current_full$ID), ] ## 0 PARTICIPANTS
## W2
# number of current diagnoses
w2_dx_anxiety_current_full <-  w2_dx_current[which(w2_dx_current$dx_type=="1"),]
w2_dx_mood_current_full <- w2_dx_current[which(w2_dx_current$dx_type=="2"),]
w2_dx_ed_current_full <- w2_dx_current[which(w2_dx_current$dx_type=="3"),]
# number of px who met for at least one current diagnosis
w2_dx_anxiety_current <- w2_dx_anxiety_current_full[!duplicated(w2_dx_anxiety_current_full$ID), ] ## 38 PARTICIPANTS
w2_dx_mood_current <- w2_dx_mood_current_full[!duplicated(w2_dx_mood_current_full$ID), ] ## 15 PARTICIPANTS
w2_dx_ed_current <- w2_dx_ed_current_full[!duplicated(w2_dx_ed_current_full$ID), ] ## 0 PARTICIPANTS
## W3
# number of current diagnoses
w3_dx_anxiety_current_full <-  w3_dx_current[which(w3_dx_current$dx_type=="1"),]
w3_dx_mood_current_full <- w3_dx_current[which(w3_dx_current$dx_type=="2"),]
w3_dx_ed_current_full <- w3_dx_current[which(w3_dx_current$dx_type=="3"),]
# number of px who met for at least one current diagnosis
w3_dx_anxiety_current <- w3_dx_anxiety_current_full[!duplicated(w3_dx_anxiety_current_full$ID), ] ## 37 PARTICIPANTS
w3_dx_mood_current <- w3_dx_mood_current_full[!duplicated(w3_dx_mood_current_full$ID), ] ## 18 PARTICIPANTS
w3_dx_ed_current <- w3_dx_ed_current_full[!duplicated(w3_dx_ed_current_full$ID), ] ## 4 PARTICIPANTS
## How many participants in each wave met for anxiety + mood or anxiety + ed or mood + ed currently?
## W1
w1_comorbid_current_ma <- w1_dx_mood_current[w1_dx_mood_current$ID %in% w1_dx_anxiety_current$ID,] ## 3
w1_comorbid_current_ae <- w1_dx_anxiety_current[w1_dx_anxiety_current$ID %in% w1_dx_ed_current$ID,] ## 0
w1_comorbid_current_me <- w1_dx_mood_current[w1_dx_mood_current$ID %in% w1_dx_ed_current$ID,] ## 0
w1_comorbid_current <- full_join(w1_comorbid_current_ae, w1_comorbid_current_ma)
w1_comorbid_current <- full_join(w1_comorbid_current, w1_comorbid_current_me) ## 3 TOTAL
# W2
w2_comorbid_current_ma <- w2_dx_mood_current[w2_dx_mood_current$ID %in% w2_dx_anxiety_current$ID,] ## 7
w2_comorbid_current_ae <- w2_dx_anxiety_current[w2_dx_anxiety_current$ID %in% w2_dx_ed_current$ID,] ## 0
w2_comorbid_current_me <- w2_dx_mood_current[w2_dx_mood_current$ID %in% w2_dx_ed_current$ID,] ## 0
w2_comorbid_current <- full_join(w2_comorbid_current_ae, w2_comorbid_current_ma)
w2_comorbid_current <- full_join(w2_comorbid_current, w2_comorbid_current_me) ## 7 TOTAL
## W3
w3_comorbid_current_ma <- w3_dx_mood_current[w3_dx_mood_current$ID %in% w3_dx_anxiety_current$ID,]
w3_comorbid_current_ae <- w3_dx_anxiety_current[w3_dx_anxiety_current$ID %in% w3_dx_ed_current$ID,]
w3_comorbid_current_me <- w3_dx_mood_current[w3_dx_mood_current$ID %in% w3_dx_ed_current$ID,]
w3_comorbid_current <- full_join(w3_comorbid_current_ae, w3_comorbid_current_ma)
w3_comorbid_current <- full_join(w3_comorbid_current, w3_comorbid_current_me) ## 18 TOTAL
## How many participants have experienced anxiety/mood/disordered eating in the past two years?
## W1
# number of past diagnoses
w1_dx_anxiety_past_full <-  w1_dx_past[which(w1_dx_past$dx_type=="1"),]
w1_dx_mood_past_full <- w1_dx_past[which(w1_dx_past$dx_type=="2"),]
w1_dx_ed_past_full <- w1_dx_past[which(w1_dx_past$dx_type=="3"),]
# number of participants who met for at least one dx since the past wave
w1_dx_anxiety_past <- w1_dx_anxiety_past_full[!duplicated(w1_dx_anxiety_past_full$ID), ] ## 15 PARTICIPANTS
w1_dx_mood_past <- w1_dx_mood_past_full[!duplicated(w1_dx_mood_past_full$ID), ] ## 8 PARTICIPANTS
w1_dx_ed_past <- w1_dx_ed_past_full[!duplicated(w1_dx_ed_past_full$ID), ] ## 0 PARTICIPANTS
## W2
# number of past diagnoses
w2_dx_anxiety_past_full <-  w2_dx_past[which(w2_dx_past$dx_type=="1"),]
w2_dx_mood_past_full <- w2_dx_past[which(w2_dx_past$dx_type=="2"),]
w2_dx_ed_past_full <- w2_dx_past[which(w2_dx_past$dx_type=="3"),]
# number of participants who met for at least one dx since the past wave
w2_dx_anxiety_past <- w2_dx_anxiety_past_full[!duplicated(w2_dx_anxiety_past_full$ID), ] ## 11 PARTICIPANTS
w2_dx_mood_past <- w2_dx_mood_past_full[!duplicated(w2_dx_mood_past_full$ID), ] ## 22 PARTICIPANTS
w2_dx_ed_past <- w2_dx_ed_past_full[!duplicated(w2_dx_ed_past_full$ID), ] ## 2 PARTICIPANTS
## W3
# number of past diagnoses
w3_dx_anxiety_past_full <-  w3_dx_past[which(w3_dx_past$dx_type=="1"),]
w3_dx_mood_past_full <- w3_dx_past[which(w3_dx_past$dx_type=="2"),]
w3_dx_ed_past_full <- w3_dx_past[which(w3_dx_past$dx_type=="3"),]
# number of participants who met for at least one dx since the past wave
w3_dx_anxiety_past <- w3_dx_anxiety_past_full[!duplicated(w3_dx_anxiety_past_full$ID), ] ## 11 PARTICIPANTS
w3_dx_mood_past <- w3_dx_mood_past_full[!duplicated(w3_dx_mood_past_full$ID), ] ## 27 PARTICIPANTS
w3_dx_ed_past <- w3_dx_ed_past_full[!duplicated(w3_dx_ed_past_full$ID), ] ## 7 PARTICIPANTS
## How many participants in each wave met for anxiety + mood or anxiety + ed or mood + ed past?
## W1
w1_comorbid_past_ma <- w1_dx_mood_past[w1_dx_mood_past$ID %in% w1_dx_anxiety_past$ID,] ## 1
w1_comorbid_past_ae <- w1_dx_anxiety_past[w1_dx_anxiety_past$ID %in% w1_dx_ed_past$ID,] ## 0
w1_comorbid_past_me <- w1_dx_mood_past[w1_dx_mood_past$ID %in% w1_dx_ed_past$ID,] ## 0
w1_comorbid_past <- full_join(w1_comorbid_past_ae, w1_comorbid_past_ma)
w1_comorbid_past <- full_join(w1_comorbid_past, w1_comorbid_past_me) ## 1 TOTAL
# W2
w2_comorbid_past_ma <- w2_dx_mood_past[w2_dx_mood_past$ID %in% w2_dx_anxiety_past$ID,] ## 7
w2_comorbid_past_ae <- w2_dx_anxiety_past[w2_dx_anxiety_past$ID %in% w2_dx_ed_past$ID,] ## 0
w2_comorbid_past_me <- w2_dx_mood_past[w2_dx_mood_past$ID %in% w2_dx_ed_past$ID,] ## 2
w2_comorbid_past <- full_join(w2_comorbid_past_ae, w2_comorbid_past_ma)
w2_comorbid_past <- full_join(w2_comorbid_past, w2_comorbid_past_me) ## 9 TOTAL
## W3
w3_comorbid_past_ma <- w3_dx_mood_past[w3_dx_mood_past$ID %in% w3_dx_anxiety_past$ID,] ## 4
w3_comorbid_past_ae <- w3_dx_anxiety_past[w3_dx_anxiety_past$ID %in% w3_dx_ed_past$ID,] ## 2
w3_comorbid_past_me <- w3_dx_mood_past[w3_dx_mood_past$ID %in% w3_dx_ed_past$ID,] ## 4
w3_comorbid_past <- full_join(w3_comorbid_past_ae, w3_comorbid_past_ma)
w3_comorbid_past <- full_join(w3_comorbid_past, w3_comorbid_past_me) ## 8 TOTAL
## How many participants met for at least one past and at least one current dx of the same classification in each wave?
w1_anx_pc <- w1_dx_anxiety_current[w1_dx_anxiety_current$ID %in% w1_dx_anxiety_past$ID, ] ## 5
w2_anx_pc <- w2_dx_anxiety_current[w2_dx_anxiety_current$ID %in% w2_dx_anxiety_past$ID, ] ## 6
w3_anx_pc <- w3_dx_anxiety_current[w3_dx_anxiety_current$ID %in% w3_dx_anxiety_past$ID, ] ## 6
w1_mood_pc <- w1_dx_mood_current[w1_dx_mood_current$ID %in% w1_dx_mood_past$ID, ] ## 1
w2_mood_pc <- w2_dx_mood_current[w2_dx_mood_current$ID %in% w2_dx_mood_past$ID, ] ## 6
w3_mood_pc <- w3_dx_mood_current[w3_dx_mood_current$ID %in% w3_dx_mood_past$ID, ] ## 6
w1_ed_pc <- w1_dx_ed_current[w1_dx_ed_current$ID %in% w1_dx_ed_past$ID, ] ## 0
w2_ed_pc <- w2_dx_ed_current[w2_dx_ed_current$ID %in% w2_dx_ed_past$ID, ] ## 0
w3_ed_pc <- w3_dx_ed_current[w3_dx_ed_current$ID %in% w3_dx_ed_past$ID, ] ## 1
## How many participants met for something new at each wave?
# new in W2
w1_w2_anx <- w1_dx_anxiety[w1_dx_anxiety$ID %in% w2_dx_anxiety$ID, ] ## 16 px had recurrences of anx in W2 (27 NEW)
# new in W3
w1_w3_anx <- w1_dx_anxiety[w1_dx_anxiety$ID %in% w3_dx_anxiety$ID, ] # 10 px had recurrences of anx from W1 in W3
w2_w3_anx <- w2_dx_anxiety[w2_dx_anxiety$ID %in% w3_dx_anxiety$ID, ] # 16 px had recurrences of anx from W2 in W3
# total recurrences = 26, total new = 16
# new mood in W2
w1_w2_mood <- w1_dx_mood[w1_dx_mood$ID %in% w2_dx_mood$ID, ] ## 4 px had recurrences of mood in W2 (27 NEW)
# new in W3
w1_w3_mood <- w1_dx_mood[w1_dx_mood$ID %in% w3_dx_mood$ID, ] # 4 px had recurrences of mood from W1 in W3
w2_w3_mood <- w2_dx_mood[w2_dx_mood$ID %in% w3_dx_mood$ID, ] # 12 px had recurrences of mood from W2 in W3
# total recurrences = 16, total new = 23
# new ED in W2
w1_w2_ed <- w1_dx_ed[w1_dx_ed$ID %in% w2_dx_ed$ID, ] ## 0 px had recurrences of anx in W2 (2 NEW)
# new ED in W3
w1_w3_ed <- w1_dx_ed[w1_dx_ed$ID %in% w3_dx_ed$ID, ] # 0 px had recurrences of anx from W1 in W3
w2_w3_ed <- w2_dx_ed[w2_dx_ed$ID %in% w3_dx_ed$ID, ] # 0 px had recurrences of anx from W2 in W3
# total recurrences = 0, total new = 10
## How many participants met for the same dx across waves?
## BY DX
id_recurrences <- dx_full %>% group_by(dx, ID, dx_type) %>% tally()
across_3_waves <-  id_recurrences[which(id_recurrences$n=="3"),]
across_2_waves <-  id_recurrences[which(id_recurrences$n=="2"),]
across_1_waves <-  id_recurrences[which(id_recurrences$n=="1"),]
across_3_waves <- across_3_waves[!duplicated(across_3_waves$ID), ]
across_2_waves <- across_2_waves[!duplicated(across_2_waves$ID), ]
across_1_waves <- across_1_waves[!duplicated(across_1_waves$ID), ]
# BY CLASSIFICATION
id_recurrences <- dx_full %>% group_by(dx_type, ID) %>% tally()
across_3_waves <-  id_recurrences[which(id_recurrences$n=="3"),]
across_2_waves <-  id_recurrences[which(id_recurrences$n=="2"),]
across_1_waves <-  id_recurrences[which(id_recurrences$n=="1"),]
across_3_waves_anx <- across_3_waves[which(across_3_waves$dx_type=="1"),]
across_2_waves_anx <-  across_2_waves[which(across_2_waves$dx_type=="1"),]
across_1_waves_anx <-  across_1_waves[which(across_1_waves$dx_type=="1"),]
across_3_waves_mood <- across_3_waves[which(across_3_waves$dx_type=="2"),]
across_2_waves_mood <-  across_2_waves[which(across_2_waves$dx_type=="2"),]
across_1_waves_mood <-  across_1_waves[which(across_1_waves$dx_type=="2"),]
across_3_waves_ed <- across_3_waves[which(across_3_waves$dx_type=="3"),]
across_2_waves_ed <-  across_2_waves[which(across_2_waves$dx_type=="3"),]
across_1_waves_ed <-  across_1_waves[which(across_1_waves$dx_type=="3"),]
across_3_waves <- across_3_waves[!duplicated(across_3_waves$ID), ]
across_2_waves <- across_2_waves[!duplicated(across_2_waves$ID), ]
across_1_waves <- across_1_waves[!duplicated(across_1_waves$ID), ]
w1_sh_anx <- w1_dx_anxiety[w1_dx_anxiety$ID %in% dshi_w1$ID,]
w2_sh_anx <- w2_dx_anxiety[w2_dx_anxiety$ID %in% dshi_w2$ID,]
w3_sh_anx <- w3_dx_anxiety[w3_dx_anxiety$ID %in% dshi_w3$ID,]
View(w1_sh_anx)
View(w2_sh_anx)
View(w3_sh_dx)
View(w3_sh_anx)
w1_sh_mood <- w1_dx_mood[w1_dx_mood$ID %in% dshi_w1$ID,]
w2_sh_mood <- w2_dx_mood[w2_dx_mood$ID %in% dshi_w2$ID,]
w3_sh_mood <- w3_dx_mood[w3_dx_mood$ID %in% dshi_w3$ID,]
w1_sh_anx_mood <- w1_sh_anx_mood[w1_sh_anx_mood$ID %in% w1_sh_mood$ID,]
w1_sh_anx_mood <- w1_sh_anx[w1_sh_anx$ID %in% w1_sh_mood$ID,]
w2_sh_anx_mood <- w2_sh_anx[w2_sh_anx$ID %in% w1_sh_mood$ID,]
w3_sh_anx_mood <- w3_sh_anx[w3_sh_anx$ID %in% w1_sh_mood$ID,]
View(w1_sh_anx_mood)
View(w1_sh_anx)
View(w1_sh_mood)
