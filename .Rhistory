w1_count <- data.frame(Total_Anx = sum(w1_dx_anxiety$n),
Total_Mood = sum(w1_dx_mood$n),
Total_ED = sum(w1_dx_ed$n),
Current_Anx = sum(w1_dx_anxiety_current$n),
Current_Mood = sum(w1_dx_mood_current$n),
Current_ED = sum(w1_dx_ed_current$n),
Past_Anx = sum(w1_dx_anxiety_past$n),
Past_Mood = sum(w1_dx_mood_past$n),
Past_ED = sum(w1_dx_ed_past$n),
Current_Comorbid = sum(w1_comorbid_current$n),
Past_Comorbid = sum(w1_comorbid_past$n),
PC_Anx = sum(w1_anx_pc$n),
PC_Mood = sum(w1_mood_pc$n),
PC_ED = sum(w1_ed_pc$n),
Anx_New = sum(w1_dx_anxiety$n),
Mood_New = sum(w1_dx_mood$n),
ED_New = sum(w1_dx_ed$n))
View(w1_count)
w1_count <- data.frame(Amount = "n",
Total_Anx = sum(w1_dx_anxiety$n),
Total_Mood = sum(w1_dx_mood$n),
Total_ED = sum(w1_dx_ed$n),
Current_Anx = sum(w1_dx_anxiety_current$n),
Current_Mood = sum(w1_dx_mood_current$n),
Current_ED = sum(w1_dx_ed_current$n),
Past_Anx = sum(w1_dx_anxiety_past$n),
Past_Mood = sum(w1_dx_mood_past$n),
Past_ED = sum(w1_dx_ed_past$n),
Current_Comorbid = sum(w1_comorbid_current$n),
Past_Comorbid = sum(w1_comorbid_past$n),
PC_Anx = sum(w1_anx_pc$n),
PC_Mood = sum(w1_mood_pc$n),
PC_ED = sum(w1_ed_pc$n),
Anx_New = sum(w1_dx_anxiety$n),
Mood_New = sum(w1_dx_mood$n),
ED_New = sum(w1_dx_ed$n))
View(w1_count)
w1_count <- w1_count %>%
pivot_longer(w1_count, cols=1:17, names_to = "Condition", values_to = "Amount")
w1_count <- w1_count %>%
pivot_longer(w1_count, cols=1:17, names_to = "Condition")
w1_count <- data.frame(Wave = "1",
Total_Anx = sum(w1_dx_anxiety$n),
Total_Mood = sum(w1_dx_mood$n),
Total_ED = sum(w1_dx_ed$n),
Current_Anx = sum(w1_dx_anxiety_current$n),
Current_Mood = sum(w1_dx_mood_current$n),
Current_ED = sum(w1_dx_ed_current$n),
Past_Anx = sum(w1_dx_anxiety_past$n),
Past_Mood = sum(w1_dx_mood_past$n),
Past_ED = sum(w1_dx_ed_past$n),
Current_Comorbid = sum(w1_comorbid_current$n),
Past_Comorbid = sum(w1_comorbid_past$n),
PC_Anx = sum(w1_anx_pc$n),
PC_Mood = sum(w1_mood_pc$n),
PC_ED = sum(w1_ed_pc$n),
Anx_New = sum(w1_dx_anxiety$n),
Mood_New = sum(w1_dx_mood$n),
ED_New = sum(w1_dx_ed$n))
w1_count <- w1_count %>%
pivot_longer(w1_count, cols=1:17, names_to = "Condition", values_to = "Wave")
View(w1_count)
w1_count <- data.frame(Total_Anx = sum(w1_dx_anxiety$n),
Total_Mood = sum(w1_dx_mood$n),
Total_ED = sum(w1_dx_ed$n),
Current_Anx = sum(w1_dx_anxiety_current$n),
Current_Mood = sum(w1_dx_mood_current$n),
Current_ED = sum(w1_dx_ed_current$n),
Past_Anx = sum(w1_dx_anxiety_past$n),
Past_Mood = sum(w1_dx_mood_past$n),
Past_ED = sum(w1_dx_ed_past$n),
Current_Comorbid = sum(w1_comorbid_current$n),
Past_Comorbid = sum(w1_comorbid_past$n),
PC_Anx = sum(w1_anx_pc$n),
PC_Mood = sum(w1_mood_pc$n),
PC_ED = sum(w1_ed_pc$n),
Anx_New = sum(w1_dx_anxiety$n),
Mood_New = sum(w1_dx_mood$n),
ED_New = sum(w1_dx_ed$n))
w1_count <- w1_count %>%
pivot_longer(w1_count, cols=1:17, names_to = "Condition", values_to = "W1 Amount")
View(w1_count)
w1_count <- w1_count %>%
pivot_longer(w1_count, cols=1:17, names_to = "Condition", values_to = "W1 Amount (n=174)")
View(w1_count)
rm(w1_count)
w1_count <- data.frame(Total_Anx = sum(w1_dx_anxiety$n),
Total_Mood = sum(w1_dx_mood$n),
Total_ED = sum(w1_dx_ed$n),
Current_Anx = sum(w1_dx_anxiety_current$n),
Current_Mood = sum(w1_dx_mood_current$n),
Current_ED = sum(w1_dx_ed_current$n),
Past_Anx = sum(w1_dx_anxiety_past$n),
Past_Mood = sum(w1_dx_mood_past$n),
Past_ED = sum(w1_dx_ed_past$n),
Current_Comorbid = sum(w1_comorbid_current$n),
Past_Comorbid = sum(w1_comorbid_past$n),
PC_Anx = sum(w1_anx_pc$n),
PC_Mood = sum(w1_mood_pc$n),
PC_ED = sum(w1_ed_pc$n),
Anx_New = sum(w1_dx_anxiety$n),
Mood_New = sum(w1_dx_mood$n),
ED_New = sum(w1_dx_ed$n))
w1_count <- w1_count %>%
pivot_longer(w1_count, cols=1:17, names_to = "Condition", values_to = "W1 Amount (n=174)")
w2_count <- w2_count %>%
pivot_longer(w2_count, cols=1:17, names_to = "Condition", values_to = "W2 Amount (n=163)")
w2_count <- data.frame(Total_Anx = sum(w2_dx_anxiety$n),
Total_Mood = sum(w2_dx_mood$n),
Total_ED = sum(w2_dx_ed$n),
Current_Anx = sum(w2_dx_anxiety_current$n),
Current_Mood = sum(w2_dx_mood_current$n),
Current_ED = sum(w2_dx_ed_current$n),
Past_Anx = sum(w2_dx_anxiety_past$n),
Past_Mood = sum(w2_dx_mood_past$n),
Past_ED = sum(w2_dx_ed_past$n),
Current_Comorbid = sum(w2_comorbid_current$n),
Past_Comorbid = sum(w2_comorbid_past$n),
PC_Anx = sum(w2_anx_pc$n),
PC_Mood = sum(w2_mood_pc$n),
PC_ED = sum(w2_ed_pc$n),
Anx_New = sum(w2_dx_anxiety$n)-sum(w2_reoccuring_anx$n),
Mood_New = sum(w2_dx_mood$n)-sum(w2_reoccuring_mood$n),
ED_New = sum(w2_dx_ed$n)-sum(w2_reoccuring_ed$n))
w2_count <- w2_count %>%
pivot_longer(w2_count, cols=1:17, names_to = "Condition", values_to = "W2 Amount (n=163)")
w3_count <- data.frame(Total_Anx = sum(w3_dx_anxiety$n),
Total_Mood = sum(w3_dx_mood$n),
Total_ED = sum(w3_dx_ed$n),
Current_Anx = sum(w3_dx_anxiety_current$n),
Current_Mood = sum(w3_dx_mood_current$n),
Current_ED = sum(w3_dx_ed_current$n),
Past_Anx = sum(w3_dx_anxiety_past$n),
Past_Mood = sum(w3_dx_mood_past$n),
Past_ED = sum(w3_dx_ed_past$n),
Current_Comorbid = sum(w3_comorbid_current$n),
Past_Comorbid = sum(w3_comorbid_past$n),
PC_Anx = sum(w3_anx_pc$n),
PC_Mood = sum(w3_mood_pc$n),
PC_ED = sum(w3_ed_pc$n),
Anx_New = sum(w3_dx_anxiety$n)-sum(w3_reoccuring_anx$n),
Mood_New = sum(w3_dx_mood$n)-sum(w3_reoccuring_mood$n),
ED_New = sum(w3_dx_ed$n)-sum(w3_reoccuring_ed$n))
w3_count <- w3_count %>%
pivot_longer(w3_count, cols=1:17, names_to = "Condition", values_to = "W3 Amount (n=150)")
w4_count <- data.frame(Total_Anx = sum(w4_dx_anxiety$n),
Total_Mood = sum(w4_dx_mood$n),
Total_ED = sum(w4_dx_ed$n),
Current_Anx = sum(w4_dx_anxiety_current$n),
Current_Mood = sum(w4_dx_mood_current$n),
Current_ED = sum(w4_dx_ed_current$n),
Past_Anx = sum(w4_dx_anxiety_past$n),
Past_Mood = sum(w4_dx_mood_past$n),
Past_ED = sum(w4_dx_ed_past$n),
Current_Comorbid = sum(w4_comorbid_current$n),
Past_Comorbid = sum(w4_comorbid_past$n),
PC_Anx = sum(w4_anx_pc$n),
PC_Mood = sum(w4_mood_pc$n),
PC_ED = sum(w4_ed_pc$n),
Anx_New = sum(w4_dx_anxiety$n)-sum(w4_reoccuring_anx$n),
Mood_New = sum(w4_dx_mood$n)-sum(w4_reoccuring_mood$n),
ED_New = sum(w4_dx_ed$n)-sum(w4_reoccuring_ed$n))
w4_count <- w4_count %>%
pivot_longer(w4_count, cols=1:17, names_to = "Condition", values_to = "W4 Amount (n=39)")
dx_count <- full_join(w1_count, full_join(w2_count, w3_count))
View(dx_count)
dx_count <- full_join(dx_count, w4_count)
View(dx_count)
write.csv(dx_count, file = "dx_count.csv")
## How many participants met for the same dx across waves?
## BY DX
id_recurrences <- dx_full %>% group_by(dx, ID, dx_type) %>% tally()
across_4_waves <-  id_recurrences[which(id_recurrences$n=="4"),]
across_3_waves <-  id_recurrences[which(id_recurrences$n=="3"),]
across_2_waves <-  id_recurrences[which(id_recurrences$n=="2"),]
across_1_waves <-  id_recurrences[which(id_recurrences$n=="1"),]
across_4_waves <- across_4_waves[!duplicated(across_4_waves$ID), ]
across_3_waves <- across_3_waves[!duplicated(across_3_waves$ID), ]
across_2_waves <- across_2_waves[!duplicated(across_2_waves$ID), ]
across_1_waves <- across_1_waves[!duplicated(across_1_waves$ID), ]
across_4_waves <- across_4_waves %>%
count(ID)
across_3_waves <- across_3_waves %>%
count(ID)
across_2_waves <- across_2_waves %>%
count(ID)
across_1_waves <- across_1_waves %>%
count(ID)
# BY CLASSIFICATION
id_recurrences <- dx_full %>% group_by(dx_type, ID) %>% tally()
across_4_waves <-  id_recurrences[which(id_recurrences$n=="4"),]
across_3_waves <-  id_recurrences[which(id_recurrences$n=="3"),]
across_2_waves <-  id_recurrences[which(id_recurrences$n=="2"),]
across_1_waves <-  id_recurrences[which(id_recurrences$n=="1"),]
across_4_waves <- across_4_waves[!duplicated(across_4_waves$ID), ]
across_3_waves <- across_3_waves[!duplicated(across_3_waves$ID), ]
across_2_waves <- across_2_waves[!duplicated(across_2_waves$ID), ]
across_1_waves <- across_1_waves[!duplicated(across_1_waves$ID), ]
across_4_waves_anx <- across_4_waves[which(across_4_waves$dx_type=="1"),]
across_3_waves_anx <- across_3_waves[which(across_3_waves$dx_type=="1"),]
across_2_waves_anx <-  across_2_waves[which(across_2_waves$dx_type=="1"),]
across_1_waves_anx <-  across_1_waves[which(across_1_waves$dx_type=="1"),]
across_4_waves_anx <- across_4_waves_anx  %>%
count(ID)
across_3_waves_anx  <- across_3_waves_anx  %>%
count(ID)
across_2_waves_anx  <- across_2_waves_anx  %>%
count(ID)
across_1_waves_anx  <- across_1_waves_anx  %>%
count(ID)
across_4_waves_mood <- across_4_waves[which(across_4_waves$dx_type=="2"),]
across_3_waves_mood <- across_3_waves[which(across_3_waves$dx_type=="2"),]
across_2_waves_mood <-  across_2_waves[which(across_2_waves$dx_type=="2"),]
across_1_waves_mood <-  across_1_waves[which(across_1_waves$dx_type=="2"),]
across_4_waves_mood <- across_4_waves_mood %>%
count(ID)
across_3_waves_mood <- across_3_waves_mood %>%
count(ID)
across_2_waves_mood <- across_2_waves_mood %>%
count(ID)
across_1_waves_mood <- across_1_waves_mood %>%
count(ID)
across_4_waves_ed <- across_4_waves[which(across_4_waves$dx_type=="3"),]
across_3_waves_ed <- across_3_waves[which(across_3_waves$dx_type=="3"),]
across_2_waves_ed <-  across_2_waves[which(across_2_waves$dx_type=="3"),]
across_1_waves_ed <-  across_1_waves[which(across_1_waves$dx_type=="3"),]
across_4_waves_ed <- across_4_waves_ed %>%
count(ID)
across_3_waves_ed <- across_3_waves_ed %>%
count(ID)
across_2_waves_ed <- across_2_waves_ed %>%
count(ID)
across_1_waves_ed <- across_1_waves_ed %>%
count(ID)
occurence_count <- data.frame(Dx_1 = sum(across_1_waves$n),
Dx_2 = sum(across_2_waves$n),
Dx_3 = sum(across_3_waves$n),
Dx_4 = sum(across_4_waves$n),
Anxiety_1 = sum(across_1_waves_anx$n),
Anxiety_2 = sum(across_2_waves_anx$n),
Anxiety_3 = sum(across_3_waves_anx$n),
Anxiety_4 = sum(across_4_waves_anx$n),
Mood_1 = sum(across_1_waves_mood$n),
Mood_2 = sum(across_2_waves_mood$n),
Mood_3 = sum(across_3_waves_mood$n),
Mood_4 = sum(across_4_waves_mood$n),
ED_1 = sum(across_1_waves_ed$n),
ED_2 = sum(across_2_waves_ed$n),
ED_3 = sum(across_3_waves_ed$n),
ED_4 = sum(across_4_waves_ed$n))
View(occurence_count)
View(across_4_waves)
View(id_recurrences)
id_recurrences <- dx_full %>% group_by(dx, ID, dx_type) %>% tally()
across_4_waves_dx <-  id_recurrences[which(id_recurrences$n=="4"),]
across_3_waves_dx <-  id_recurrences[which(id_recurrences$n=="3"),]
across_2_waves_dx  <-  id_recurrences[which(id_recurrences$n=="2"),]
across_1_waves_dx  <-  id_recurrences[which(id_recurrences$n=="1"),]
across_4_waves_dx  <- across_4_waves[!duplicated(across_4_waves$ID), ]
across_3_waves_dx  <- across_3_waves[!duplicated(across_3_waves$ID), ]
across_2_waves_dx  <- across_2_waves[!duplicated(across_2_waves$ID), ]
across_1_waves_dx  <- across_1_waves[!duplicated(across_1_waves$ID), ]
across_4_waves_dx  <- across_4_waves_dx  %>%
count(ID)
across_3_waves_dx  <- across_3_waves_dx  %>%
count(ID)
across_2_waves_dx  <- across_2_waves_dx  %>%
count(ID)
across_1_waves_dx  <- across_1_waves_dx  %>%
count(ID)
occurence_count <- data.frame(Dx_1 = sum(across_1_waves_dx$n),
Dx_2 = sum(across_2_waves_dx$n),
Dx_3 = sum(across_3_waves_dx$n),
Dx_4 = sum(across_4_waves_dx$n),
Anxiety_1 = sum(across_1_waves_anx$n),
Anxiety_2 = sum(across_2_waves_anx$n),
Anxiety_3 = sum(across_3_waves_anx$n),
Anxiety_4 = sum(across_4_waves_anx$n),
Mood_1 = sum(across_1_waves_mood$n),
Mood_2 = sum(across_2_waves_mood$n),
Mood_3 = sum(across_3_waves_mood$n),
Mood_4 = sum(across_4_waves_mood$n),
ED_1 = sum(across_1_waves_ed$n),
ED_2 = sum(across_2_waves_ed$n),
ED_3 = sum(across_3_waves_ed$n),
ED_4 = sum(across_4_waves_ed$n))
View(occurence_count)
across_4_waves_dx  <- across_4_waves_dx  %>%
count(ID)
across_3_waves_dx  <- across_3_waves_dx  %>%
count(ID)
across_2_waves_dx  <- across_2_waves_dx  %>%
count(ID)
across_1_waves_dx  <- across_1_waves_dx  %>%
count(ID)
View(across_4_waves_dx)
knitr::opts_chunk$set(echo = TRUE, message = FALSE, warning = FALSE, cache = FALSE, fig.path = "figs/", dpi = 300)
options(scipen=999)
library(pacman)
pacman::p_load(tidyverse, purrr, fs, reactable, ggplot2, install = TRUE)
palette = c("#ffb800", "#e64626", "#00a896", "#165f8d", "#AE2012")
plot_aes = theme_minimal() +
theme(legend.position = "top",
legend.text = element_text(size = 8),
text = element_text(size = 10, family = "Futura Medium"),
axis.text = element_text(color = "black"),
axis.line = element_line(colour = "black"),
axis.ticks.y = element_blank())
root_path="~/Desktop/Projects/dx/working_docs/"
##pulling CSV files & calculating cronbach alpha
dx_full<-read.csv(paste0(root_path,"Lifetime_Diagnoses.csv"),
stringsAsFactors = FALSE)
dx_names<-read.csv(paste0(root_path,"dx_names.csv"),
stringsAsFactors = FALSE)
dshi <-read.csv(paste0(root_path,"DSHI_All_Waves.csv"),
stringsAsFactors = FALSE)
## (anxiety = 1, mood = 2, disordered eating = 3) as of 09/08/2021
dx_full$dx_type <- dx_full$dx
dx_full <- dx_full %>%
mutate(dx_type=ifelse(dx_type=="MDD", 2,
ifelse(dx_type=="SocP", 1,
ifelse(dx_type=="ADDM", 2,
ifelse(dx_type=="SimP", 1,
ifelse(dx_type=="ENU", 1,
ifelse(dx_type=="GAD", 1,
ifelse(dx_type=="OCD", 1,
ifelse(dx_type=="DNOS", 2,
ifelse(dx_type=="PTSD", 1,
ifelse(dx_type=="AG", 1,
ifelse(dx_type=="PD", 1,
ifelse(dx_type=="AN", 3,
ifelse(dx_type=="EDNOS", 3,
ifelse(dx_type=="BU", 3,
ifelse(dx_type=="ANOS", 1,
ifelse(dx_type=="BP2", 2,
ifelse(dx_type=="BP1", 2,
ifelse(dx_type=="ADA", 1,
ifelse(dx_type=="ASD", 1,                                                                                      ifelse(dx_type=="Schizo_Affect_Dep", 2,
ifelse(dx_type=="DYS", 2,
ifelse(dx_type=="ManEp", 2,
ifelse(dx_type=="HypoEp", 2,
ifelse(dx_type=="PD_AG", 1,
ifelse(dx_type=="SepAnx", 1,
ifelse(dx_type=="MDD_B", 2,
ifelse(dx_type=="MixedEp_Psychotic", 2,
ifelse(dx_type=="Schizo_Affect_Bi", 2,
ifelse(dx_type=="ADADM", 4,
dx_type))))))))))))))))))))))))))))))
## creating wave docs
## W1
w1_dx_current <-  dx_full[which(dx_full$W1_current=="1"),]
w1_dx_past <- dx_full[which(dx_full$W1_past=="1"),]
w1_dx <- full_join(w1_dx_current, w1_dx_past)
## W2
w2_dx_current <-  dx_full[which(dx_full$W2_current=="1"),]
w2_dx_past <- dx_full[which(dx_full$W2_past=="1"),]
w2_dx <- full_join(w2_dx_current, w2_dx_past)
## W3
w3_dx_current <-  dx_full[which(dx_full$W3_current=="1"),]
w3_dx_past <- dx_full[which(dx_full$W3_past=="1"),]
w3_dx <- full_join(w3_dx_current, w3_dx_past)
## W4
w4_dx_current <-  dx_full[which(dx_full$W4_current=="1"),]
w4_dx_past <- dx_full[which(dx_full$W4_past=="1"),]
w4_dx <- full_join(w4_dx_current, w4_dx_past)
id_recurrences <- dx_full %>% group_by(dx, ID, dx_type) %>% tally()
across_4_waves_dx <-  id_recurrences[which(id_recurrences$n=="4"),]
across_3_waves_dx <-  id_recurrences[which(id_recurrences$n=="3"),]
across_2_waves_dx  <-  id_recurrences[which(id_recurrences$n=="2"),]
across_1_waves_dx  <-  id_recurrences[which(id_recurrences$n=="1"),]
across_4_waves_dx  <- across_4_waves[!duplicated(across_4_waves$ID), ]
across_4_waves_dx  <- across_4_waves_dx [!duplicated(across_4_waves_dx $ID), ]
across_3_waves_dx  <- across_3_waves_dx [!duplicated(across_3_waves_dx $ID), ]
across_2_waves_dx  <- across_2_waves_dx [!duplicated(across_2_waves_dx $ID), ]
across_1_waves_dx  <- across_1_waves_dx [!duplicated(across_1_waves_dx $ID), ]
across_4_waves_dx  <- across_4_waves_dx  %>%
count(ID)
across_3_waves_dx  <- across_3_waves_dx  %>%
count(ID)
across_2_waves_dx  <- across_2_waves_dx  %>%
count(ID)
across_1_waves_dx  <- across_1_waves_dx  %>%
count(ID)
id_recurrences <- dx_full %>% group_by(dx_type, ID) %>% tally()
across_4_waves <-  id_recurrences[which(id_recurrences$n=="4"),]
across_3_waves <-  id_recurrences[which(id_recurrences$n=="3"),]
across_2_waves <-  id_recurrences[which(id_recurrences$n=="2"),]
across_1_waves <-  id_recurrences[which(id_recurrences$n=="1"),]
across_4_waves <- across_4_waves[!duplicated(across_4_waves$ID), ]
across_3_waves <- across_3_waves[!duplicated(across_3_waves$ID), ]
across_2_waves <- across_2_waves[!duplicated(across_2_waves$ID), ]
across_1_waves <- across_1_waves[!duplicated(across_1_waves$ID), ]
across_4_waves_anx <- across_4_waves[which(across_4_waves$dx_type=="1"),]
across_3_waves_anx <- across_3_waves[which(across_3_waves$dx_type=="1"),]
across_2_waves_anx <-  across_2_waves[which(across_2_waves$dx_type=="1"),]
across_1_waves_anx <-  across_1_waves[which(across_1_waves$dx_type=="1"),]
across_4_waves_anx <- across_4_waves_anx  %>%
count(ID)
across_3_waves_anx  <- across_3_waves_anx  %>%
count(ID)
across_2_waves_anx  <- across_2_waves_anx  %>%
count(ID)
across_1_waves_anx  <- across_1_waves_anx  %>%
count(ID)
across_4_waves_mood <- across_4_waves[which(across_4_waves$dx_type=="2"),]
across_3_waves_mood <- across_3_waves[which(across_3_waves$dx_type=="2"),]
across_2_waves_mood <-  across_2_waves[which(across_2_waves$dx_type=="2"),]
across_1_waves_mood <-  across_1_waves[which(across_1_waves$dx_type=="2"),]
across_4_waves_mood <- across_4_waves_mood %>%
count(ID)
across_3_waves_mood <- across_3_waves_mood %>%
count(ID)
across_2_waves_mood <- across_2_waves_mood %>%
count(ID)
across_1_waves_mood <- across_1_waves_mood %>%
count(ID)
across_4_waves_ed <- across_4_waves[which(across_4_waves$dx_type=="3"),]
across_3_waves_ed <- across_3_waves[which(across_3_waves$dx_type=="3"),]
across_2_waves_ed <-  across_2_waves[which(across_2_waves$dx_type=="3"),]
across_1_waves_ed <-  across_1_waves[which(across_1_waves$dx_type=="3"),]
across_4_waves_ed <- across_4_waves_ed %>%
count(ID)
across_3_waves_ed <- across_3_waves_ed %>%
count(ID)
across_2_waves_ed <- across_2_waves_ed %>%
count(ID)
across_1_waves_ed <- across_1_waves_ed %>%
count(ID)
occurence_count <- data.frame(Dx_1 = sum(across_1_waves_dx$n),
Dx_2 = sum(across_2_waves_dx$n),
Dx_3 = sum(across_3_waves_dx$n),
Dx_4 = sum(across_4_waves_dx$n),
Anxiety_1 = sum(across_1_waves_anx$n),
Anxiety_2 = sum(across_2_waves_anx$n),
Anxiety_3 = sum(across_3_waves_anx$n),
Anxiety_4 = sum(across_4_waves_anx$n),
Mood_1 = sum(across_1_waves_mood$n),
Mood_2 = sum(across_2_waves_mood$n),
Mood_3 = sum(across_3_waves_mood$n),
Mood_4 = sum(across_4_waves_mood$n),
ED_1 = sum(across_1_waves_ed$n),
ED_2 = sum(across_2_waves_ed$n),
ED_3 = sum(across_3_waves_ed$n),
ED_4 = sum(across_4_waves_ed$n))
View(occurence_count)
id_recurrences <- dx_full %>% group_by(dx_type, ID) %>% tally()
View(id_recurrences)
View(across_3_waves)
View(across_2_waves_mood)
occurence_count <- occurence_count %>%
pivot_longer(occurence_count, cols=1:16, names_to = "Condition", values_to = "Amount of Px")
View(occurence_count)
write.csv(occurence_count, file = "occurence_count.12.2021.csv")
## cleaning DSHI doc
## changing any -3 to NA in DSHI doc
dshi[dshi=="-3"] <- "NA"
## filtering out IDs who have NA for date of endorsement and self-harm (meaning they didn't meet for anything)
dshi <- dshi %>% filter(dshi$Date_Endorsement != "NA")
dshi <- dshi %>% filter(dshi$Self_Harm != "NA")
## creating a doc with just ID and the wave they met
dshi <- dshi %>%
select("ID", "Wave")
dshi <-dshi %>%
mutate(no_underscores=paste0("TAG",
substring(ID,first=5,last=length(ID))))
colnames(dshi)[3] <- "ID"
dshi <-dshi[, -1]
dshi <-dshi[c(2, 1)]
## relabeling ACE endorsements to wave 3's
dshi[dshi=="3.5 (Month 1)"] <- "3"
dshi[dshi=="3.5 (Month 2)"] <- "3"
dshi[dshi=="3.5"] <- "3"
## creating separate wave docs for dshi endorsements
dshi_w1 <-  dshi[which(dshi$Wave=="1"),]
dshi_w2 <-  dshi[which(dshi$Wave=="2"),]
dshi_w3 <-  dshi[which(dshi$Wave=="3"),]
dshi_w4 <-  dshi[which(dshi$Wave=="4"),]
## changing the class of Wave to integer
dshi_w1$Wave <-  as.integer(dshi_w1$Wave)
dshi_w2$Wave <-  as.integer(dshi_w2$Wave)
dshi_w3$Wave <-  as.integer(dshi_w3$Wave)
dshi_w4$Wave <-  as.integer(dshi_w4$Wave)
dshi <-dshi %>%
mutate(no_underscores=paste0("TAG",
substring(ID,first=5,last=length(ID))))
colnames(dshi)[3] <- "ID"
dshi <-dshi[, -1]
dshi <-dshi[c(2, 1)]
dshi_w1 <- dshi_w1[!duplicated(dshi_w1$ID), ]
dshi_w2 <- dshi_w2[!duplicated(dshi_w2$ID), ]
dshi_w3 <- dshi_w3[!duplicated(dshi_w3$ID), ]
dshi_w4 <- dshi_w4[!duplicated(dshi_w4$ID), ]
dshi_w3 <- dshi_w3[-c(1),]
View(dshi)
rm(dshi)
dshi[dshi=="-3"] <- "NA"
dshi <-read.csv(paste0(root_path,"DSHI_All_Waves.csv"),
stringsAsFactors = FALSE)
dshi[dshi=="-3"] <- "NA"
View(dshi)
dshi <- dshi %>% filter(dshi$Date_Endorsement != "NA")
dshi <- dshi %>% filter(dshi$Self_Harm != "NA")
View(dshi)
rm(dshi)
dshi <-read.csv(paste0(root_path,"DSHI_All_Waves.csv"),
stringsAsFactors = FALSE)
dshi[dshi=="-3"] <- "NA"
dshi <- dshi %>% filter(dshi$Self_Harm != "NA")
View(dshi)
dshi <- dshi[which(dshi$Self_Harm == "1")]
dshi <- dshi[which(dshi$Self_Harm == "1"),]
View(dshi)
